
<!DOCTYPE html>
<html>

<head>

  <meta http-equiv="content-type" content="text/html; charset=UTF8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script> 
  <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
  <script src="./jsFunctions.js"></script>
  <script src="./d3.layout.cloud.js"> </script>
<!--  <script src="./perlin.js"></script>  -->

  
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link href='https://fonts.googleapis.com/css?family=Indie+Flower' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="bars.css">

</head>

<!--End of head-->


<body>
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
    <!--Not sure how this section works-->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
<!--        <span class="icon-bar"></span>    -->
<!--        <span class="icon-bar"></span>    -->
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#"><b>JL</b></a>  
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li class="active"><a href="http://crolabear.github.io/foodzNthingz/">Home</a></li>
<!--        <li><a href="#"> About </a></li>  -->
<!--        <li><a href="#"> Projects </a></li>   -->
        <li><a href="#"> <font color="black">Yay, You discovered a hidden button.</font> </a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="mainSection odd">
  <div class="container text-center">


<p><h2> Force Field Picture </h2></p>
<p> This is a d3js exercise inspired by the animation found <a href="http://jfire.io/animations/2015-03-22/"> here.</a> </p>
<p> The picture below is a slope field for Y = x^2; Y' = 2X +C. Next step is to make it interactive so people can enter their 
function and I can come up with the slope field. I am stuck at parsing the input function...  </p>

<p id="plot1">
<script>
var width = 500,
    height = 500,
    n = Math.floor(width/50);

var svg = d3.select("#plot1").append("svg")
    .attr("width", width)
    .attr("height", height)
    .style("background", "grey");
        
var scale1 = d3.scale.ordinal()
    .domain(d3.range(-n / 2, n / 2 + 1))
    .rangePoints([0, width], width/250);
    
console.log(scale1);    

var xAxis = d3.svg.axis()
    .scale(scale1)
    .orient("top");
//     
svg.append("g")
  .attr("class", "x axis")
  .attr("transform", "translate(0," + height + ")")
  .call(xAxis);


scale2 = d3.scale.ordinal()
    .domain(d3.range(-n / 2, n / 2+1 ))
    .rangePoints([width, 0], width/250);
    
var yAxis = d3.svg.axis()
    .scale(scale2)
    .orient("right");
//       
svg.append("g")
  .attr("class", "y axis")
  .attr("transform", "translate(" + 0 + ",0)")
  .call(yAxis);    

    
var data = [];


for (var x = -n / 2; x <= n / 2; x++) {
    for (var y = -n / 2; y <= n / 2; y++) {
        var slope = 2*x;
        var r = Math.atan(slope)*-1*57.29580091676682;
        data.push({x: x, y: y,r:r});
    }
}
// pretend the derivative is 2x , 0y 



var lines = svg.selectAll("path")
    .data(data)
    .enter().append("path")
    .attr("fill", "#111")
    .attr("d", "M-8,2, L12,0, L-8,-2, Z")
    			 
    .attr("transform", function(d) {
        //var r = 360 * noise.simplex3(d.x / 60, d.y / 60)
      return "translate(" + [scale1(d.x), scale1(d.y)] + ")rotate(" + d.r + ")";
    })

// d3.timer(function(t) {
//     lines.attr("transform", function(d) {
//         var r = 360 * noise.simplex3(d.x / 60, d.y / 60, t / 7000);
//         console.log(r);
//         return "translate(" + [scale(d.x), scale(d.y)] + ")rotate(" + r + ")";
//     });
// });    
    
</script>
</p>

</div>
</div>


<!--Section 3-->
<footer class="container-fluid text-center">
  <div class="row"> 
    <div class="col-sm-6">
      Jianyu Li
      </br>
      April - 2016
    </div>
    
    <div class="col-sm-6 social">
    <ul>
      <li><a href="#"><i class="fa fa-2x fa-github" style="color:white"></i></a></li>
      <li><a href="#"><i class="fa fa-2x fa-facebook" style="color:white"></i></a></li>
      <li><a href="#"><i class="fa fa-2x fa-linkedin" style="color:white"></i></a></li>
    </ul>
    
    </div>    
  </div>
  
</footer>
</body>




</html>